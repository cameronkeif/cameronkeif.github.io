<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-128626322-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-128626322-1');
    </script>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="style.css" />
    <title>Cameron Keif</title>
  </head>

  <body>
    <div id="header">
      <div id="name-container">Cameron Keif</div>
      <div id="links-container">
        <a href="index.html">Home</a>
        <a href="education.html">Education</a>
        <a href="projects.html">Projects</a>
        <a href="experience.html">Experience</a>
        <a href="contact.html">Contact Information</a>
        <a href="blog.html">Blog</a>
      </div>
      <div class="clear-both"></div>
    </div>

    <div id="content">
      <div class="content-title"><h1>Blog</h1></div>
      <div class="content-text">
        <h1>November 27 2018 - React Hooks</h1>

        <p>
          Since ReactConf 2018, a big amount of buzz in the React community has been around hooks.
        </p>

        <p>
          So what are React hooks? This is a new feature proposal live in React v 16.7.0-alpha. There is an <a href="https://github.com/reactjs/rfcs/pull/68">open RFC</a> where discussion of the full implementation is taking place.  React hooks basically allow you to use state and other React features (such as lifecycle methods)
          without needing to create a new class. An overview can be found <a href="https://reactjs.org/docs/hooks-overview.html">here.</a>
        </p>

        <p>
          The biggest win here, in my opinion, is that this allows components to very easily share stateful logic. For example, a common pattern I find
          myself writing is flags maintained in component/redux state indicaitng "isLoading", "isBeingCreated", "isBeingEdited", etc. With hooks
          I could abstract some of that handling out to an "isBusy" hook and remove that logic from all those individual components.
      </p>

        <p>
          Another great thing about hooks is that <a href="https://reactjs.org/docs/hooks-overview.html#%EF%B8%8F-effect-hook">Effect Hooks</a> allow us to reuse logic in the React lifecycle methods. For example, maybe
          I want to do something like make an API call every time I hit componentDidMount or componentDidUpdate. Effect hooks allow
          us to remove a lot of that boilerplate. For example (albeit a trivial one):
        </p>

        <b><u>Without hooks:</u></b>
        <div class="code">
          <pre>
            <code>
  // Note: these components are not complete, I have only included the simple relevant bits
  class MyComponent extends React.Component {
    componentDidMount() {
      api.get('somePath')
        .then((result) => {
          document.title = result;
        });
    }

    componentDidUpdate() {
      api.get('somePath')
        .then((result) => {
          document.title = result;
        });
    }
  }
          </code>
        </pre>
    </div>

    <b><u>With hooks:</u></b>
        <div class="code">
            <pre>
              <code>
  const MyComponent = (props) => {
    useEffect(() =>{
      api.get('somePath')
        .then((result) => {
          document.title = result;
        });
    });
  }
            </code>
          </pre>
        </div>

        <p>
        Both of these components achieve the same affect of updating the document title on initial load and when the component updates, but the latter with hooks has much less boilerplate.
        Obviously this is a very trivial example, but you can image as more and more business logic creeps into those lifecycle methods, it sure is nice to be
        able to very simply reuse it. One might argue you could just write a function encapsulating this logic, 
        but what happens when there are more and more pieces of logic being shared? It's just a nice, native way to handle this.
      </p>

      <hr />

        <p>
          Now, the downsides:
        </p>

        <p>
          Probably the biggest concern I have is how easy this looks on the surface. The most difficult part of modern front end development (in my opinion) is
          state management and its side effects. A custom hook manages its own state and this can lead to unpredictable behavior.
          I would personally have more boilerplate code that is predictable than terse code that is unpredictable and causes a variety of side effects.
        </p>

        <p>
          I also believe that this approach, while it seems clean and does produce nice, reusable code, actually adds complexity. 
          It is not often clear where things are coming from - Imagine a component bringing in several hooks, and some piece of state is updated.
          How easy will it be to determine what is changing it and how? These kinds of problems can already be tricky, and I think custom hooks will add to that complexity.
        </p>

        <hr />

        <p>
          Overall, I think hooks are a good addition to React, but I think they need to be managed carefully. I would not consider them a necessary future necessity for good React code, but rather
          another tool for our toolbox where and when it makes sense. As long as custom hooks are clearly documented, and effect hooks are used appropriately, I think they can be
          quite powerful. Hooks are definitely something I look forward to experimenting with, but I certainly will not be rushing to add them to any production code for awhile.
        </p>
      </div>
    </div>
  </body>
</html>
